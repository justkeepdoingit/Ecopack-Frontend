<div [ngClass]="dashboardAdmins.nonAdmin">
  <div [ngClass]="dashboardAdmins.useraccNA">
    <!-- <img class=" w-full h-96 md:h-auto object-cover md:w-48 rounded-t-lg md:rounded-none md:rounded-l-lg" src="https://mdbootstrap.com/wp-content/uploads/2020/06/vertical.jpg" alt="" /> -->
    <div class="p-6 flex flex-col justify-start w-full">
      <h2 class="text-secondary-700 text-xl font-medium mb-2">Converting Orders</h2>
      <div *ngIf="columnSearching" [ngClass]="filterClass">
        <div *ngFor="let filterData of forFilters; let i = index" class="flex flex-col md:flex-row md:max-w-full">
          <div class=" flex flex-col justify-start w-full">
            <mat-form-field *ngIf="columnSearching" style="width: 100%;" appearance="standard">
              <mat-label>Filter By {{filterData | filterName2}}</mat-label>
              <input matInput (keyup)="applyFilter($event, i)" placeholder="Search" #input>
            </mat-form-field>
          </div>
        </div>
      </div>
      <mat-form-field *ngIf="!columnSearching" style="width: 100%;" appearance="standard">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event, 100)" placeholder="Search" #input>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Select Filter By Column</mat-label>
        <mat-select #matSelect [formControl]="filters" (selectionChange)="checkChange($event.value)" multiple>
          <mat-select-trigger>
            {{filters.value?.[0] | filterName}}
            <span *ngIf="(filters.value?.length || 0) > 1" class="example-additional-selection">
              (+{{(filters.value?.length || 0) - 1}} {{filters.value?.length === 2 ? 'other' : 'others'}})
            </span>
          </mat-select-trigger>
          <mat-option *ngFor="let filter of filter" [disabled]="isOptionDisabled(filter.value)" [value]="filter.value">
            {{filter.viewValue}}</mat-option>
        </mat-select>
        <button (click)="clearFilter()" *ngIf="columnSearching" matSuffix mat-icon-button aria-label="Clear">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
      <div class=" overflow-y-auto relative">
        <div *ngIf="temporaryData.length > 0 && multi">
          <!-- <button (click)="updateMultiple()" style="margin-left: 0.5rem; margin-right: 0.5rem" mat-stroked-button color="primary">Date and Comment</button> -->
          <button (click)="moveToFG(); !columnSearching" style="margin-left: 0.5rem; margin-right: 0.5rem"
            mat-stroked-button color="primary">Move To FG</button>
        </div>
        <mat-table matRipple [matRippleUnbounded]="unbounded" [matRippleCentered]="centered" [matRippleRadius]="radius"
          class=" text-secondary-700 font-medium cursor-pointer" #table matSort
          [dataSource]="!columnSearching ? newDataSource : filteredSource">
          <ng-container matColumnDef="cb">
            <mat-header-cell class="cb" *matHeaderCellDef>
              <mat-checkbox *ngIf="multi" [checked]="allComplete" [color]="task.color"
                (click)="setItems(task.subtasks);" [indeterminate]="someComplete()"
                (change)="setAll($event.checked, task.subtasks)">
              </mat-checkbox>
            </mat-header-cell>
            <mat-cell class="cb" *matCellDef="let subtask">
              <mat-checkbox *ngIf="multi" [(ngModel)]="subtask.completed" [ngModelOptions]="{standalone: true}"
                [color]="subtask.color" (change)="checkboxChecked($event.checked, subtask)"
                (ngModelChange)="updateAllComplete()">
              </mat-checkbox>
            </mat-cell>
          </ng-container>
          <!-- <ng-container matColumnDef="id">
            <mat-header-cell class="ids" mat-sort-header *matHeaderCellDef> ID </mat-header-cell>
            <mat-cell class="ids" (click)="editInfo(element)" *matCellDef="let element"> {{element.id}} </mat-cell>
          </ng-container> -->

          <ng-container matColumnDef="date">
            <mat-header-cell mat-sort-header *matHeaderCellDef> Date </mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.date}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="so">
            <mat-header-cell class="so" class="so" mat-sort-header *matHeaderCellDef> SO# </mat-header-cell>
            <mat-cell class="so" (click)="editInfo(element)" class="so" *matCellDef="let element"> {{element.so}}
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="po">
            <mat-header-cell class="po" mat-sort-header *matHeaderCellDef> PO# </mat-header-cell>
            <mat-cell class="po" (click)="editInfo(element)" *matCellDef="let element"> {{element.po}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="name">
            <mat-header-cell mat-sort-header *matHeaderCellDef> Name </mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.name}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="item">
            <mat-header-cell mat-sort-header *matHeaderCellDef> Item </mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.item}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="itemdesc">
            <mat-header-cell mat-sort-header *matHeaderCellDef> Item Desc </mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.itemdesc}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="qty">
            <mat-header-cell mat-sort-header *matHeaderCellDef> Order Qty </mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.qty}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="shipqty">
            <mat-header-cell mat-sort-header *matHeaderCellDef>Prod Qty</mat-header-cell>
            <mat-cell matTooltip="Edit Qty" matTooltipShowDelay="300" matTooltipPosition="below"
              (click)="editQty(element)" *matCellDef="let element"> {{element.prodqty}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="deliverydate">
            <mat-header-cell mat-sort-header *matHeaderCellDef>Date Needed</mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.deliverydate}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
            <mat-cell matTooltip="Edit Status" matTooltipShowDelay="300" matTooltipPosition="below"
              (click)="editStatus(element)" *matCellDef="let element">
              <span *ngIf="element.c == true"> C&nbsp; </span>
              <span *ngIf="element.p == true"> P&nbsp; </span>
              <span *ngIf="element.o == true"> O&nbsp; </span>
              <span *ngIf="element.f == true"> F </span>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="comment">
            <mat-header-cell mat-sort-header *matHeaderCellDef>Comment</mat-header-cell>
            <mat-cell (click)="editInfo(element)" *matCellDef="let element"> {{element.comment}} </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

        </mat-table>
      </div>

      <mat-paginator [pageSize]="5" [pageSizeOptions]="[ 5, 10, 25, 100]" aria-label="Select page">
      </mat-paginator>
      <button mat-stroked-button color="primary" (click)="!multi ? multi = true : multi = false" *ngIf="multi">Single
        Row Selection</button>
      <button mat-stroked-button color="primary" (click)="multi ? multi = false : multi = true" *ngIf="!multi">Multiple
        Row Selection</button>
    </div>
  </div>
</div>